\documentclass{llncs}

%%%%%%%%%%%%%%%%%%%
%%% Packages
%%%%%%%%%%%%%%%%%%%
\usepackage[backend=biber, style=lncs]{biblatex}
\addbibresource{ref.bib}
% !TEX TS-program = pdflatexmk

\usepackage{geometry}
\geometry{
  a4paper,         % or letterpaper
  textwidth=15cm,  % llncs has 12.2cm
  textheight=24cm, % llncs has 19.3cm
  hratio=1:1,      % horizontally centered
  vratio=2:3,      % not vertically centered
}

\usepackage[table]{xcolor}
\usepackage{subcaption}
\usepackage{amsmath}
\usepackage{nicefrac}
\usepackage{hhline}
\usepackage{bigdelim}

\usepackage{tikz}
\usetikzlibrary{quantikz2}

\newcommand{\ketbra}[2]{\ensuremath{| #1 \rangle \langle #2 |}}
\newcommand{\ci}{\mathrm{i}}
\DeclarePairedDelimiter{\card}{\lvert}{\rvert}
\DeclarePairedDelimiter{\norm}{\lVert}{\rVert}
\DeclareMathOperator{\tr}{tr}

%%%%%%%%%%%%%%%%%%%
%%% General Cmds
%%%%%%%%%%%%%%%%%%%
\newcommand{\todo}[1]{{\color{red}\bfseries{}TODO: #1}}
  
\begin{document}
\title{Quantum Pseudo-Telepathy}
\subtitle{The Magic Square Game}

\author{Luigi Soares \and Roberto Rosmaninho}
\institute{%
  Department of Computer Science, UFMG - Brazil \\
  \email{\{luigi.domenico, robertogomes\}@dcc.ufmg.br}}

\maketitle
% \begin{abstract}
% \end{abstract}

\section{Introduction}
\label{sec:intro}

Telepathy, the ability of transmitting information from one
person's mind to another's, would certainly come in handy in
many situations, right? Unfortunately (or not), (to the best
of our knowledge) telepathy is not a thing. At least, not
according to classical physics. Certain aspects of the
quantum realm, however, provide a way of communication that
for a layman looks as magical as ``true'' telepathy. This
phenomenon is called quantum
\emph{pseudo-telepathy}~\cite{brassard:2005}.


Quantum pseudo-telepathy is observed in many contexts,
usually described in the format of a game: the ``impossible
colouring games''~\cite{brassard:2005, Kochen1975}; the
parity games, in which \(n \geq 3\) players are given
bit-strings and, without communicating to each other, they
output one of their bits, winning if their outputs combined
obey certain parity conditions~\cite{brassard:2005,
  Mermin1990}; the Deutsch-Jozsa games, where Alice and Bob
are given bit strings \(x\) and \(y\), and must output bit
strings \(a\) and \(b\) such that \(a = b\) if and only if
\(x = y\)~\cite{brassard:2005, Brassard_1999}; and, the
Magic Square game~\cite{brassard:2005, Mermin1990}. None of
these games admit a classical winning strategy (i.e.\ is not
possible to always win), yet they can be won systematically,
without any communication, provided that the players share
prior entanglement~\cite{brassard:2005}.

In this project, we shall explore the Mermin-Peres Magic Square game
(hereinafter referred simply as Magic Square). The origins of this
game date back to the ninities. It was first described ---~albeit not
in the format of a game~--- in the works of Mermin~\cite{mermin:1990}
and of Peres~\cite{peres:1990}. Their results provided (as per the
title of Mermin's review letter) a simplied proof for the
Kochen-Specker theorem~\cite{Kocher1975}. Later, in 2002, Aravind
demonstrated how to transform Mermin-Peres's proof of then
Kochen-Specker theorem into a proof of Bell's
theorem~\cite{aravind:xxx}. Bell's theorem shows the incompatibility
of hidden variables (i.e. determinism) and locality, whereas
Kochen-Specker's theorem demonstrates the conflicting nature of
determinism and non-contextuality.  These sort of results may seem
challenging, but their descriptions can be greatly simplified by
modeling them as quantum games.  In particular, it is extremely easy
to show that there cannot be a classical solution to the the Magic
Square game, and to convince an observer that something ``magical''
(classically impossible) is happening in a successful implementation
of a quantum winnin strategy~\cite{brassard:2005}.

\todo{FIX: they talk about contextuality only (both theorems)}

\paragraph{Outline of this paper.}
\section{Contextuality}
\label{sec:local-context}


\section{The Magic Square Game}
\label{sec:magic-square}

A magic square is a \(3 \times 3\) matrix whose entries are filled
with \(\pm 1\)'s. The product of every row of a magic square must be
\(+1\). Similarly, the product of every column of a magic square must
be \(-1\). Is impossible to satisfy these two properties at the same
time, hence the term \emph{magic}: such a matrix cannot exist. The
Magic Square game features two players, Alice and Bob, that must work
together to fill in entries of the \(3 \times 3\) table.  At the
beginning of the game, Alice and Bob are separated by a referee,
Charlie, so that communication between them is impossible. At each
round, Charlie assigns one row of the matrix at random to Alice, and
asks Alice to give him the entries to fill in that particular
row. After that, Charlie visits Bob and asks him to fill one column of
the table, which Charlie draws at random.  Bob does not know which row
Alice was assigned, and Alice does not know which colum Bob was
assigned. Alice and Bob win the round if their answers are valid,
i.e.\ the product of the row filled by Alice is \(+1\) and the product
of the column filled by Bob is \(-1\), and, in addition, the
intersection of the row and the column agrees (i.e. both answered
\(+1\) or both answered \(-1\)). Before the game starts, Alice and Bob
are allowed to communicate, so they can come up with an strategy.  For
example, they may prepare their answers for each row and column
beforehand, or they may decide to follow a probabilistic strategy.

\subsection{Classical Solution}
\label{sec:classic-sol}

Assume that Alice and Bob decided to adopt a deterministic strategy.
For that, they met before the beginning of the game, and prepared
their answers for each possible row and column. For example, they
might have agreed that, if given the first column, Bob shall fill it
with three \(-1\)'s. Then, whatever row Alice is given, she must fill
it with either \(\{-1, +1, -1\}\) or \(\{-1, -1, +1\}\). Suppose that
Alice decided that she would fill any row in the same way:
\(\{-1, -1, +1\}\). Figure~\ref{fig:classical} (a) shows how the
predefined matrix would look like. Notice that Alice's rows are
already defined, but Bob still has to decide how to fill the second
and third columns. He can, and must, fill the second column with three
\(-1\)'s, so that whatever row Alice is given, the intersection
agrees. Intuitively, for the same reason, he should then fill the
third column with three \(+1\)'s. However, this is not a valid
strategy, since the product of the last column will be \(+1\) and not
\(-1\), as required. Thus, Bob must fill at least one of the
entries of the last column with \(-1\).  By doing that, there will be
one row and column whose intersection does not agree, and thus one row
and column for which Alice and Bob lose, as illustrated in
Figure~\ref{fig:classical} (b). It is not difficult to convince yourself that,
no matter how Alice and Bob decide to fill in their entries, it is impossible
for them to come up with predefined answers that always win. In fact,
the best that they can do is to win with probability \(\nicefrac{8}{9}\).

{\renewcommand{\arraystretch}{2}
\begin{figure}
  \centering
  \begin{subfigure}[t]{0.475\textwidth}
    \[\begin{array}{|>{\quad\columncolor{gray!50}}c<{\quad}|*{2}{>{\quad}c<{\quad}|}}
        \hhline{---}
        -1 & -1 & +1 
        \\ \hhline{---}
        -1 & -1 & +1 
        \\ \hhline{---}
        -1 & -1 & +1 
        \\ \hhline{---}
      \end{array}\]
    \caption{Initially, Alice and Bob agree that Bob shall fill the
      first column with \(\{-1, -1, -1\}\). Based on this choice,
      Alice decides to fill all of her rows with
      \(\{-1, -1, +1\}\).}
  \end{subfigure}
  \hfill{}
  \begin{subfigure}[t]{0.475\textwidth}
    \[\begin{array}{|*{3}{>{\quad\columncolor{gray!50}}c<{\quad}|}}
        \hhline{---}
        -1 & -1 & \cellcolor{red!80!black!55}\pm 1
        \\ \hhline{---}
        -1 & -1 & +1
        \\ \hhline{---}
        -1 & -1 & +1
        \\ \hhline{---}
      \end{array}\]
    \caption{Bob has to fill the second column with \(-1\)'s, to match
      Alice's choice. He should also match Alice's choice for each
      cell of the third column, but he cannot, for the product of
      the column must be \(-1\).}
  \end{subfigure}
  \caption{One possible classical deterministic strategy for the Magic
    Square game. Following this predefined strategy, Alice and Bob
    lose when assigned, respectively, the first row and third column,
    but win in any other scenario. That is, their probability of
    winning a round is \(\nicefrac{8}{9}\). Gray cells are entries for
    which Alice's and Bob's choices agree.\label{fig:classical}}
\end{figure}}

What if Alice and Bob decide for a probabilistic strategy? That is,
Alice and Bob each carry a coin. When assigned a row/column, they flip
their coins and fill the entries of the row/column based on the
outcomes of the coins. Can they do better? To randomly assign values
to one row (equivalently, one column) is essentially the same as
randomly selecting one of the \(2^{9}\) possible predefined
\(3 \times 3\) grids (including those matrices that would lead to
invalid answers). In other words, a probabilistic strategy for the
Magic Square game is one in which Alice and Bob randomly select a
deterministic strategy. Hence, no matter how lucky Alice and Bob are,
the probability of success of any strategy that they come up with is
bounded by the winning probability of the best deterministic
strategy, which is
\(\nicefrac{8}{9}\). Theorem~\ref{thm:classical-success} formalizes
this argument.

\subsection{Quantum Solution}
\label{sec:quantum-sol}
The quantum strategy for the Magic Square game consists of Alice and
Bob carrying entangled qubits with them. For each round, they need a
pair of qubits each. Then, when Charlie asks Alice (respectively Bob)
to fill the entries of the \(i\)-th row (respectively \(j\)-th
column), Alice measures her two qubits three times. The outcome of
each measurement gives the value for each cell (in practice, they do
not even need the third measurement, since they can determine the third
value from the first two). Key to this strategy is that the outcomes
of all possible measurements are \(\pm 1\). The initial, entangled state
is (subscripts \(A\) and \(B\) indicate, respectively,
Alice's and Bob's qubits)
\begin{equation}
  \ket{\psi} = \frac{1}{2}\left(
    \ket{00}_{A} \otimes \ket{00}_{B} + \ket{01}_{A} \otimes \ket{01}_{B} +
    \ket{10}_{A} \otimes \ket{10}_{B} + \ket{11}_{A} \otimes \ket{11}_{B}
  \right).
\end{equation}
Figure~\ref{fig:circuit-psi} shows the quantum circuit that can be
used to prepare the initial state \(\ket{\psi}\).

\begin{figure}[htbp]
  \centering
  \begin{quantikz}
    \lstick{\ket{0}} & \gate{H}
    \slice[label style={xshift=-15mm}]
    {\(\frac{1}{2}(\ket{00} + \ket{01} + \ket{10} +
      \ket{11}) \otimes \ket{00}\)}
    &&&&& \ctrl{2} &&
    \\
    \lstick{\ket{0}} & \gate{H} &&&&&& \ctrl{2} & \\
    \lstick{\ket{0}} & &&&&& \targ{} && \\
    \lstick{\ket{0}} & &&&&&& \targ{}
    \slice[label style={xshift=5mm}]
    {\(\frac{1}{2}(\ket{0000} + \ket{0101} + \ket{1010} +
      \ket{1111})\)}
    &
  \end{quantikz}
  \caption{\label{fig:circuit-psi}}
\end{figure}

As seen in Section~\ref{sec:classic-sol}, the \emph{magic} square is
called this way because, under classical assumptions, there is no such
a square: it is impossible to construct a \(3 \times 3\) matrix filled
with \(\pm 1\)'s, with the constraints that the product of every row
is \(+1\) and the product of every column is \(-1\). We can, however,
construct a ``quantum magic'' square. Figure~\ref{fig:quantum} shows
the \(3 \times 3\) grid that Alice and Bob can use to win the Magic
Square game systematically.  Notice that the eigenvalues of the
observables at each cell are \(\pm 1\). Furthermore, the product of
every row is \(+I\) and the product of every column is \(-I\). (The
original observables did not have the negative \(X\) and \(Z\) in the
last row, so these two properties are not mandatory~\cite{Mermin1990,
  aravind:xxx}.  We have adapted the observables merely to be
``consistent'' with the properties of the classical magic square, but
what really matters for Alice and Bob are the outcomes of the
measurements, which they will use to fill the entries asked by
Charlie.)


{\renewcommand{\arraystretch}{2}
\begin{figure}
  \centering
  \[\begin{array}{|*{3}{>{\quad}c<{\quad}|}>{\quad}l<{\quad}}
      \hhline{---~}
      +I \otimes Z & +Z \otimes I & +Z \otimes Z & \prod = I \otimes I = I
      \\ \hhline{---~}
      +X \otimes I & +I \otimes X & +X \otimes X & \prod = I \otimes I = I
      \\ \hhline{---~}
      -X \otimes Z & -Z \otimes X & +Y \otimes Y & \prod = -\ci{}I \otimes \ci{}I = I
      \\ \hhline{---~}
      \multicolumn{1}{>{\quad}c<{\quad}}{\prod = -I \otimes I = -I}
      & \multicolumn{1}{>{\quad}c<{\quad}}{\prod = -I \otimes I = -I}
      & \multicolumn{1}{>{\quad}c<{\quad}}{\prod = \ci{}I \otimes \ci{}I = -I}
    \end{array}\]
  \caption{\label{fig:quantum}}
\end{figure}}

\section{Quantum Unitaries (? research)}
\label{sec:quantum-unitaries}

\printbibliography{}
\end{document}
